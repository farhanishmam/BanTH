{"cells":[{"cell_type":"code","execution_count":1,"metadata":{"executionInfo":{"elapsed":882,"status":"ok","timestamp":1726633232305,"user":{"displayName":"Fabiha Haider","userId":"01559170003016088282"},"user_tz":-360},"id":"oYQ6TFyO-kFI"},"outputs":[],"source":["import pandas as pd\n","import os"]},{"cell_type":"code","execution_count":2,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"ewq9AOUi-wIJ","executionInfo":{"status":"ok","timestamp":1726633245358,"user_tz":-360,"elapsed":13059,"user":{"displayName":"Fabiha Haider","userId":"01559170003016088282"}},"outputId":"a69a2501-1f29-4516-ca93-0c460d3eef80"},"outputs":[{"output_type":"stream","name":"stdout","text":["Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(\"/content/drive\", force_remount=True).\n"]}],"source":["from google.colab import drive\n","drive.mount('/content/drive')"]},{"cell_type":"code","execution_count":8,"metadata":{"id":"V8PLLawcBrFb","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1726633387908,"user_tz":-360,"elapsed":8004,"user":{"displayName":"Fabiha Haider","userId":"01559170003016088282"}},"outputId":"52f24729-4a63-489e-ba7d-c0cc58119297"},"outputs":[{"output_type":"stream","name":"stdout","text":["cleaned_df.xlsx\n","youtube_scraping_protidiner_bd.xlsx\n","youtube_scraping_barta24.xlsx\n","youtube_scraping_BAL.xlsx\n","youtube_scraping_BNP.xlsx\n","youtube_scraping_ekhontv.xlsx\n","youtube_scraping_ekatturtv.xlsx\n","youtube_scraping_news24.xlsx\n","youtube_scraping_dbcnews.xlsx\n"]}],"source":["directory_path = '/content/drive/MyDrive/ban-th Youtube data/cleaned_scraped_comments'\n","files = os.listdir(directory_path)\n","\n","df = pd.DataFrame()\n","for file_name in files:\n","    file_path = os.path.join(directory_path, file_name)\n","    if file_name.endswith('.xlsx'):\n","        df2 = pd.read_excel(file_path)\n","        df = pd.concat([df, df2])\n","        print(file_name)"]},{"cell_type":"code","execution_count":9,"metadata":{"id":"Ia8ngLdeDDMk","colab":{"base_uri":"https://localhost:8080/","height":424},"executionInfo":{"status":"ok","timestamp":1726633388354,"user_tz":-360,"elapsed":453,"user":{"displayName":"Fabiha Haider","userId":"01559170003016088282"}},"outputId":"d1a90e34-d8be-472c-811a-6165ce3a6231"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["                      author            updated_at  like_count  \\\n","0            @farukahmed2977  2024-08-20T02:01:18Z           0   \n","1            @Thebrownfish22  2024-08-19T13:54:10Z           0   \n","2         @AraazArzaan-fh8jl  2024-08-19T12:08:55Z           0   \n","3           @RukaiyaKhan-h4h  2024-08-19T10:16:36Z           0   \n","4        @rashidasultanarifa  2024-08-19T05:11:31Z           0   \n","...                      ...                   ...         ...   \n","1886             @SamiaFanus  2024-07-26T16:28:33Z           0   \n","1887          @aktarbina4563  2024-07-26T16:23:45Z           0   \n","1888     @SwapanBiswas-yd1cq  2024-07-26T16:22:01Z           2   \n","1889         @abulkhokon6450  2024-07-26T16:21:38Z           0   \n","1890  @mrmahadihasanrabbi356  2024-07-26T16:19:59Z           6   \n","\n","                                                   text     video_id  public  \n","0     Ar buk khola pit khola. Ar ejjot bolta keshue ...  XH3_G1pTKAM    True  \n","1     Jodio  meyer behaviour ugro chilo tobe Consens...  XH3_G1pTKAM    True  \n","2     Kharap meye der golar awaz r Kotha barti emn e...  XH3_G1pTKAM    True  \n","3     Ami chai meyera age shundor porda kore choluk\\...  XH3_G1pTKAM    True  \n","4     Meyetar theke apnara keui beshi shobbho na.Bis...  XH3_G1pTKAM    True  \n","...                                                 ...          ...     ...  \n","1886                                      Jatio bir nur  7uIfSEouU4E    True  \n","1887     Manus ki tahole ai sorkar ke ai vabe mene nibe  7uIfSEouU4E    True  \n","1888                     Dose Besi hoyese mone hosse ??  7uIfSEouU4E    True  \n","1889                            Nuru jama chirena keno?  7uIfSEouU4E    True  \n","1890                         Dim therapy laga valo kore  7uIfSEouU4E    True  \n","\n","[41466 rows x 6 columns]"],"text/html":["\n","  <div id=\"df-1dcaff45-5465-411a-bc3f-123728e9aa4b\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>author</th>\n","      <th>updated_at</th>\n","      <th>like_count</th>\n","      <th>text</th>\n","      <th>video_id</th>\n","      <th>public</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>@farukahmed2977</td>\n","      <td>2024-08-20T02:01:18Z</td>\n","      <td>0</td>\n","      <td>Ar buk khola pit khola. Ar ejjot bolta keshue ...</td>\n","      <td>XH3_G1pTKAM</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>@Thebrownfish22</td>\n","      <td>2024-08-19T13:54:10Z</td>\n","      <td>0</td>\n","      <td>Jodio  meyer behaviour ugro chilo tobe Consens...</td>\n","      <td>XH3_G1pTKAM</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>@AraazArzaan-fh8jl</td>\n","      <td>2024-08-19T12:08:55Z</td>\n","      <td>0</td>\n","      <td>Kharap meye der golar awaz r Kotha barti emn e...</td>\n","      <td>XH3_G1pTKAM</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>@RukaiyaKhan-h4h</td>\n","      <td>2024-08-19T10:16:36Z</td>\n","      <td>0</td>\n","      <td>Ami chai meyera age shundor porda kore choluk\\...</td>\n","      <td>XH3_G1pTKAM</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>@rashidasultanarifa</td>\n","      <td>2024-08-19T05:11:31Z</td>\n","      <td>0</td>\n","      <td>Meyetar theke apnara keui beshi shobbho na.Bis...</td>\n","      <td>XH3_G1pTKAM</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>1886</th>\n","      <td>@SamiaFanus</td>\n","      <td>2024-07-26T16:28:33Z</td>\n","      <td>0</td>\n","      <td>Jatio bir nur</td>\n","      <td>7uIfSEouU4E</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>1887</th>\n","      <td>@aktarbina4563</td>\n","      <td>2024-07-26T16:23:45Z</td>\n","      <td>0</td>\n","      <td>Manus ki tahole ai sorkar ke ai vabe mene nibe</td>\n","      <td>7uIfSEouU4E</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>1888</th>\n","      <td>@SwapanBiswas-yd1cq</td>\n","      <td>2024-07-26T16:22:01Z</td>\n","      <td>2</td>\n","      <td>Dose Besi hoyese mone hosse ??</td>\n","      <td>7uIfSEouU4E</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>1889</th>\n","      <td>@abulkhokon6450</td>\n","      <td>2024-07-26T16:21:38Z</td>\n","      <td>0</td>\n","      <td>Nuru jama chirena keno?</td>\n","      <td>7uIfSEouU4E</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>1890</th>\n","      <td>@mrmahadihasanrabbi356</td>\n","      <td>2024-07-26T16:19:59Z</td>\n","      <td>6</td>\n","      <td>Dim therapy laga valo kore</td>\n","      <td>7uIfSEouU4E</td>\n","      <td>True</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>41466 rows √ó 6 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-1dcaff45-5465-411a-bc3f-123728e9aa4b')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-1dcaff45-5465-411a-bc3f-123728e9aa4b button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-1dcaff45-5465-411a-bc3f-123728e9aa4b');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-bac7dcd6-b552-4790-b732-0a93bdeddde3\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-bac7dcd6-b552-4790-b732-0a93bdeddde3')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-bac7dcd6-b552-4790-b732-0a93bdeddde3 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","  <div id=\"id_fc4d20f9-0ed2-444b-8d46-05dc8e337c46\">\n","    <style>\n","      .colab-df-generate {\n","        background-color: #E8F0FE;\n","        border: none;\n","        border-radius: 50%;\n","        cursor: pointer;\n","        display: none;\n","        fill: #1967D2;\n","        height: 32px;\n","        padding: 0 0 0 0;\n","        width: 32px;\n","      }\n","\n","      .colab-df-generate:hover {\n","        background-color: #E2EBFA;\n","        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","        fill: #174EA6;\n","      }\n","\n","      [theme=dark] .colab-df-generate {\n","        background-color: #3B4455;\n","        fill: #D2E3FC;\n","      }\n","\n","      [theme=dark] .colab-df-generate:hover {\n","        background-color: #434B5C;\n","        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","        fill: #FFFFFF;\n","      }\n","    </style>\n","    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('df')\"\n","            title=\"Generate code using this dataframe.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n","  </svg>\n","    </button>\n","    <script>\n","      (() => {\n","      const buttonEl =\n","        document.querySelector('#id_fc4d20f9-0ed2-444b-8d46-05dc8e337c46 button.colab-df-generate');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      buttonEl.onclick = () => {\n","        google.colab.notebook.generateWithVariable('df');\n","      }\n","      })();\n","    </script>\n","  </div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"df","summary":"{\n  \"name\": \"df\",\n  \"rows\": 41466,\n  \"fields\": [\n    {\n      \"column\": \"author\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 33337,\n        \"samples\": [\n          \"@RHasan-k7q\",\n          \"@maishamoin8844\",\n          \"@jafar271ahmed2\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"updated_at\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": \"2020-01-07T04:42:09Z\",\n        \"max\": \"2024-08-27T16:58:42Z\",\n        \"num_unique_values\": 40515,\n        \"samples\": [\n          \"2024-08-15T10:33:21Z\",\n          \"2024-08-05T08:28:10Z\",\n          \"2024-06-14T00:29:39Z\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"like_count\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0,\n        \"min\": 0,\n        \"max\": 35,\n        \"num_unique_values\": 24,\n        \"samples\": [\n          13,\n          34,\n          0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"text\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 41375,\n        \"samples\": [\n          \"Tore gura diye putkimarano uchit\",\n          \"Sobai mile chatro lig ke protihoto koron\",\n          \"Tore paile j kemne alur vorta banaibo.\\ud83d\\ude02\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"video_id\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 94,\n        \"samples\": [\n          \"NUDSgDrZrOM\",\n          \"hUzH0uAUNu0\",\n          \"MjCzl78N7aw\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"public\",\n      \"properties\": {\n        \"dtype\": \"boolean\",\n        \"num_unique_values\": 1,\n        \"samples\": [\n          true\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":9}],"source":["df\n","# df.to_excel(\"/content/drive/MyDrive/ban-th Youtube data/df.xlsx\", index = False)"]},{"cell_type":"code","source":["!pip install emoji"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"CwXPuns48O7s","executionInfo":{"status":"ok","timestamp":1726633391421,"user_tz":-360,"elapsed":3075,"user":{"displayName":"Fabiha Haider","userId":"01559170003016088282"}},"outputId":"fc88f5db-29d8-455f-dd0a-962517c36941"},"execution_count":10,"outputs":[{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: emoji in /usr/local/lib/python3.10/dist-packages (2.12.1)\n","Requirement already satisfied: typing-extensions>=4.7.0 in /usr/local/lib/python3.10/dist-packages (from emoji) (4.12.2)\n"]}]},{"cell_type":"code","source":["import emoji\n","# Function to remove emojis from text\n","def remove_emojis(text):\n","    return emoji.replace_emoji(text, replace='')\n","\n","# Apply the function to the text column to create a new column without emojis\n","df['text_cleaned'] = df['text'].apply(remove_emojis)\n","\n","# Find duplicates based on the cleaned text column\n","duplicate_rows = df[df.duplicated('text_cleaned', keep=False)]\n","\n","# Print the duplicate rows\n","print(duplicate_rows[['text']])"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"0gHG8ygp4IoI","executionInfo":{"status":"ok","timestamp":1726633398043,"user_tz":-360,"elapsed":6629,"user":{"displayName":"Fabiha Haider","userId":"01559170003016088282"}},"outputId":"a4acb575-3260-4268-b1bb-c6b0b3466573"},"execution_count":11,"outputs":[{"output_type":"stream","name":"stdout","text":["                                text\n","68                        I agree üëçüíØ\n","69                        I agree üíØüëç\n","461              Confidence level üòÖüòÇ\n","761            Hai re Bangladesh üòÇü§¶üèª\n","762                Ointment tablet üòÇ\n","...                              ...\n","1644                Boycott DBC news\n","1661             Boycott DBC newsü§¨ü§¨ü§¨\n","1699                    Natok r koto\n","1718  Bnp, jammat boycott üëéüëéüò°ü§¨ü§¨ü§¨ü§¨ü§¨ü§¨üò°\n","1816                Step down hasina\n","\n","[389 rows x 1 columns]\n"]}]},{"cell_type":"code","source":["df.drop_duplicates(subset=['text_cleaned'], inplace=True, keep='first')\n","df = df.drop('text_cleaned', axis=1)\n","df"],"metadata":{"id":"kz2eGnWv-ze0","executionInfo":{"status":"ok","timestamp":1726633410870,"user_tz":-360,"elapsed":3693,"user":{"displayName":"Fabiha Haider","userId":"01559170003016088282"}},"colab":{"base_uri":"https://localhost:8080/","height":424},"outputId":"19da30c8-8788-4c6e-84e4-e3064b393ce7"},"execution_count":12,"outputs":[{"output_type":"execute_result","data":{"text/plain":["                      author            updated_at  like_count  \\\n","0            @farukahmed2977  2024-08-20T02:01:18Z           0   \n","1            @Thebrownfish22  2024-08-19T13:54:10Z           0   \n","2         @AraazArzaan-fh8jl  2024-08-19T12:08:55Z           0   \n","3           @RukaiyaKhan-h4h  2024-08-19T10:16:36Z           0   \n","4        @rashidasultanarifa  2024-08-19T05:11:31Z           0   \n","...                      ...                   ...         ...   \n","1886             @SamiaFanus  2024-07-26T16:28:33Z           0   \n","1887          @aktarbina4563  2024-07-26T16:23:45Z           0   \n","1888     @SwapanBiswas-yd1cq  2024-07-26T16:22:01Z           2   \n","1889         @abulkhokon6450  2024-07-26T16:21:38Z           0   \n","1890  @mrmahadihasanrabbi356  2024-07-26T16:19:59Z           6   \n","\n","                                                   text     video_id  public  \n","0     Ar buk khola pit khola. Ar ejjot bolta keshue ...  XH3_G1pTKAM    True  \n","1     Jodio  meyer behaviour ugro chilo tobe Consens...  XH3_G1pTKAM    True  \n","2     Kharap meye der golar awaz r Kotha barti emn e...  XH3_G1pTKAM    True  \n","3     Ami chai meyera age shundor porda kore choluk\\...  XH3_G1pTKAM    True  \n","4     Meyetar theke apnara keui beshi shobbho na.Bis...  XH3_G1pTKAM    True  \n","...                                                 ...          ...     ...  \n","1886                                      Jatio bir nur  7uIfSEouU4E    True  \n","1887     Manus ki tahole ai sorkar ke ai vabe mene nibe  7uIfSEouU4E    True  \n","1888                     Dose Besi hoyese mone hosse ??  7uIfSEouU4E    True  \n","1889                            Nuru jama chirena keno?  7uIfSEouU4E    True  \n","1890                         Dim therapy laga valo kore  7uIfSEouU4E    True  \n","\n","[41227 rows x 6 columns]"],"text/html":["\n","  <div id=\"df-3158fdfe-f9ad-493b-8b3c-a9de01360743\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>author</th>\n","      <th>updated_at</th>\n","      <th>like_count</th>\n","      <th>text</th>\n","      <th>video_id</th>\n","      <th>public</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>@farukahmed2977</td>\n","      <td>2024-08-20T02:01:18Z</td>\n","      <td>0</td>\n","      <td>Ar buk khola pit khola. Ar ejjot bolta keshue ...</td>\n","      <td>XH3_G1pTKAM</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>@Thebrownfish22</td>\n","      <td>2024-08-19T13:54:10Z</td>\n","      <td>0</td>\n","      <td>Jodio  meyer behaviour ugro chilo tobe Consens...</td>\n","      <td>XH3_G1pTKAM</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>@AraazArzaan-fh8jl</td>\n","      <td>2024-08-19T12:08:55Z</td>\n","      <td>0</td>\n","      <td>Kharap meye der golar awaz r Kotha barti emn e...</td>\n","      <td>XH3_G1pTKAM</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>@RukaiyaKhan-h4h</td>\n","      <td>2024-08-19T10:16:36Z</td>\n","      <td>0</td>\n","      <td>Ami chai meyera age shundor porda kore choluk\\...</td>\n","      <td>XH3_G1pTKAM</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>@rashidasultanarifa</td>\n","      <td>2024-08-19T05:11:31Z</td>\n","      <td>0</td>\n","      <td>Meyetar theke apnara keui beshi shobbho na.Bis...</td>\n","      <td>XH3_G1pTKAM</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>1886</th>\n","      <td>@SamiaFanus</td>\n","      <td>2024-07-26T16:28:33Z</td>\n","      <td>0</td>\n","      <td>Jatio bir nur</td>\n","      <td>7uIfSEouU4E</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>1887</th>\n","      <td>@aktarbina4563</td>\n","      <td>2024-07-26T16:23:45Z</td>\n","      <td>0</td>\n","      <td>Manus ki tahole ai sorkar ke ai vabe mene nibe</td>\n","      <td>7uIfSEouU4E</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>1888</th>\n","      <td>@SwapanBiswas-yd1cq</td>\n","      <td>2024-07-26T16:22:01Z</td>\n","      <td>2</td>\n","      <td>Dose Besi hoyese mone hosse ??</td>\n","      <td>7uIfSEouU4E</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>1889</th>\n","      <td>@abulkhokon6450</td>\n","      <td>2024-07-26T16:21:38Z</td>\n","      <td>0</td>\n","      <td>Nuru jama chirena keno?</td>\n","      <td>7uIfSEouU4E</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>1890</th>\n","      <td>@mrmahadihasanrabbi356</td>\n","      <td>2024-07-26T16:19:59Z</td>\n","      <td>6</td>\n","      <td>Dim therapy laga valo kore</td>\n","      <td>7uIfSEouU4E</td>\n","      <td>True</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>41227 rows √ó 6 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3158fdfe-f9ad-493b-8b3c-a9de01360743')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-3158fdfe-f9ad-493b-8b3c-a9de01360743 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-3158fdfe-f9ad-493b-8b3c-a9de01360743');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-05e653d0-a54b-4aa3-b3a4-a3a9baf0a8f2\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-05e653d0-a54b-4aa3-b3a4-a3a9baf0a8f2')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-05e653d0-a54b-4aa3-b3a4-a3a9baf0a8f2 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","  <div id=\"id_ef2244de-6f2b-4041-a25e-55dabd0123c1\">\n","    <style>\n","      .colab-df-generate {\n","        background-color: #E8F0FE;\n","        border: none;\n","        border-radius: 50%;\n","        cursor: pointer;\n","        display: none;\n","        fill: #1967D2;\n","        height: 32px;\n","        padding: 0 0 0 0;\n","        width: 32px;\n","      }\n","\n","      .colab-df-generate:hover {\n","        background-color: #E2EBFA;\n","        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","        fill: #174EA6;\n","      }\n","\n","      [theme=dark] .colab-df-generate {\n","        background-color: #3B4455;\n","        fill: #D2E3FC;\n","      }\n","\n","      [theme=dark] .colab-df-generate:hover {\n","        background-color: #434B5C;\n","        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","        fill: #FFFFFF;\n","      }\n","    </style>\n","    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('df')\"\n","            title=\"Generate code using this dataframe.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n","  </svg>\n","    </button>\n","    <script>\n","      (() => {\n","      const buttonEl =\n","        document.querySelector('#id_ef2244de-6f2b-4041-a25e-55dabd0123c1 button.colab-df-generate');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      buttonEl.onclick = () => {\n","        google.colab.notebook.generateWithVariable('df');\n","      }\n","      })();\n","    </script>\n","  </div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"df","summary":"{\n  \"name\": \"df\",\n  \"rows\": 41227,\n  \"fields\": [\n    {\n      \"column\": \"author\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 33161,\n        \"samples\": [\n          \"@exeptionalman6429\",\n          \"@basharmd93\",\n          \"@mdshahadat804\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"updated_at\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": \"2020-01-07T04:42:09Z\",\n        \"max\": \"2024-08-27T16:58:42Z\",\n        \"num_unique_values\": 40288,\n        \"samples\": [\n          \"2024-08-06T14:30:35Z\",\n          \"2024-08-04T16:17:49Z\",\n          \"2024-08-04T18:13:34Z\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"like_count\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0,\n        \"min\": 0,\n        \"max\": 35,\n        \"num_unique_values\": 24,\n        \"samples\": [\n          13,\n          34,\n          0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"text\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 41227,\n        \"samples\": [\n          \"Immigration officers ra ki  korsilo tokhon\",\n          \"Allah unake shasti dek\",\n          \"Aita to akta kotta lik  doll\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"video_id\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 94,\n        \"samples\": [\n          \"NUDSgDrZrOM\",\n          \"hUzH0uAUNu0\",\n          \"MjCzl78N7aw\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"public\",\n      \"properties\": {\n        \"dtype\": \"boolean\",\n        \"num_unique_values\": 1,\n        \"samples\": [\n          true\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":12}]},{"cell_type":"code","source":["df.to_excel(\"/content/drive/MyDrive/ban-th Youtube data/df.xlsx\", index = False)"],"metadata":{"id":"PvigOqRAJCTW"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":["# Individually cleaned all the comments before"],"metadata":{"id":"uv1M2Mc3X2Qy"}},{"cell_type":"code","source":["df = pd.read_excel(\"/content/drive/MyDrive/ban-th Youtube data/youtube_scraping_BNP.xlsx\")"],"metadata":{"id":"fYbRDWxs9bt5"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["!pip install lingua-language-detector"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"HgcEcofGPgSI","executionInfo":{"status":"ok","timestamp":1724756170761,"user_tz":-360,"elapsed":23276,"user":{"displayName":"Fabiha Haider","userId":"01559170003016088282"}},"outputId":"95bca502-842c-4006-cfb9-bf022e30848c"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Collecting lingua-language-detector\n","  Downloading lingua_language_detector-2.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (349 kB)\n","\u001b[2K     \u001b[90m‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\u001b[0m \u001b[32m349.2/349.2 kB\u001b[0m \u001b[31m7.3 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading lingua_language_detector-2.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (74.7 MB)\n","\u001b[2K   \u001b[90m‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\u001b[0m \u001b[32m74.7/74.7 MB\u001b[0m \u001b[31m5.3 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hInstalling collected packages: lingua-language-detector\n","Successfully installed lingua-language-detector-2.0.2\n"]}]},{"cell_type":"code","source":["from lingua import Language, LanguageDetectorBuilder\n","import pandas as pd\n","import re\n","\n","\n","languages = [Language.ENGLISH, Language.BENGALI]\n","detector = LanguageDetectorBuilder.from_languages(*languages).build()\n","\n","spaces_pat = re.compile(r'\\s+')\n","non_word_char_pat = re.compile(r'[^a-zA-Z\\'\\s]')\n","\n","def get_english_dictionary():\n","    with open('/content/drive/MyDrive/ban-th Youtube data/dictionary/words.txt', 'r', encoding='utf-8') as fp:\n","        return set(fp.read().lower().split())\n","\n","en_dict = get_english_dictionary()\n","\n","def is_in_en_dictionary(text):\n","    purged = non_word_char_pat.sub('', str(text)).lower()\n","    tokens = spaces_pat.split(purged)\n","    contains = [int(token in en_dict) for token in tokens]\n","    confidence = sum(contains) / len(contains)\n","    return confidence > 0.7\n","\n","\n","def detect_lang(text):\n","    if len(spaces_pat.split(str(text))) < 3:\n","        return 'na'\n","    language = detector.detect_language_of(str(text))\n","    if language == Language.ENGLISH:\n","        return 'en' if is_in_en_dictionary(text) else 'bn-roman'\n","    return 'bn'\n","\n","\n","def concat_csvs():\n","    concatenated_df = df.copy()\n","    concatenated_df['lang'] = concatenated_df['text'].apply(lambda x: detect_lang(x))\n","    concatenated_df = concatenated_df[concatenated_df['lang'] == 'bn-roman']\n","    concatenated_df.drop(columns='lang', inplace=True)\n","    concatenated_df.drop_duplicates(subset=['text'], inplace=True)\n","    # concatenated_df.to_csv('dump/tiktok/all_comments.csv', index=False)\n","    return concatenated_df\n","\n","\n","concat_df = concat_csvs()"],"metadata":{"id":"rfD98cy2OgfT"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["concat_df"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":424},"id":"qi82MkbAww7L","executionInfo":{"status":"ok","timestamp":1724756307503,"user_tz":-360,"elapsed":4,"user":{"displayName":"Fabiha Haider","userId":"01559170003016088282"}},"outputId":"a03869a8-f602-46c1-b57f-3dc1dbc6b6d1"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["                  author            updated_at  like_count  \\\n","5      @FarukAhmed-hv7lp  2024-08-24T11:43:39Z           1   \n","9          @akkasali4712  2024-08-23T10:32:22Z           1   \n","14     @mdibrahimleu4477  2024-08-20T20:29:33Z           0   \n","15      @user-yv8qd1fs5x  2024-08-18T10:39:09Z           0   \n","17     @sheikhtrisha6923  2024-08-10T17:40:14Z           0   \n","..                   ...                   ...         ...   \n","289  @mr.masudrabbani467  2024-08-02T10:03:09Z           0   \n","296    @AbdulKarim-fb7kp  2024-08-02T09:54:46Z           0   \n","298     @tarekrahman2021  2024-08-02T09:53:21Z           4   \n","299         @SN-Media433  2024-08-02T09:53:17Z           0   \n","302     @user-xb2vu5fg3n  2024-08-02T09:50:03Z           1   \n","\n","                                                  text     video_id  public  \n","5                     Atai chilo tumar jonogoner sarto  mza55ta9lT4    True  \n","9                             Sytan  dekle  buja  jay.  mza55ta9lT4    True  \n","14   Rajniti taaa kamon Jani joto e dekhi toto e ob...  mza55ta9lT4    True  \n","15            Mashallah, Nurani Chehara, Hasina Bubur!  mza55ta9lT4    True  \n","17   Sob cheye vlo lage ei jinish ta sheikh hasina ...  mza55ta9lT4    True  \n","..                                                 ...          ...     ...  \n","289        Kapurush BNP akhon namje andolone  porghasa  jUVi-lOoJjA    True  \n","296                                        Very good üëç  jUVi-lOoJjA    True  \n","298                   Rumin Farhana apu ke Lal salam üòä  jUVi-lOoJjA    True  \n","299  Awami League  o chaina....bnp o chaina...dui d...  jUVi-lOoJjA    True  \n","302                              Good job üëèüëçüëçüëçüëèüëèüëèüëèüëèüëçüëçüëè  jUVi-lOoJjA    True  \n","\n","[129 rows x 6 columns]"],"text/html":["\n","  <div id=\"df-d0cd7bef-1de0-4a3f-bde8-a043991648d0\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>author</th>\n","      <th>updated_at</th>\n","      <th>like_count</th>\n","      <th>text</th>\n","      <th>video_id</th>\n","      <th>public</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>5</th>\n","      <td>@FarukAhmed-hv7lp</td>\n","      <td>2024-08-24T11:43:39Z</td>\n","      <td>1</td>\n","      <td>Atai chilo tumar jonogoner sarto</td>\n","      <td>mza55ta9lT4</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>9</th>\n","      <td>@akkasali4712</td>\n","      <td>2024-08-23T10:32:22Z</td>\n","      <td>1</td>\n","      <td>Sytan  dekle  buja  jay.</td>\n","      <td>mza55ta9lT4</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>14</th>\n","      <td>@mdibrahimleu4477</td>\n","      <td>2024-08-20T20:29:33Z</td>\n","      <td>0</td>\n","      <td>Rajniti taaa kamon Jani joto e dekhi toto e ob...</td>\n","      <td>mza55ta9lT4</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>15</th>\n","      <td>@user-yv8qd1fs5x</td>\n","      <td>2024-08-18T10:39:09Z</td>\n","      <td>0</td>\n","      <td>Mashallah, Nurani Chehara, Hasina Bubur!</td>\n","      <td>mza55ta9lT4</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>17</th>\n","      <td>@sheikhtrisha6923</td>\n","      <td>2024-08-10T17:40:14Z</td>\n","      <td>0</td>\n","      <td>Sob cheye vlo lage ei jinish ta sheikh hasina ...</td>\n","      <td>mza55ta9lT4</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>289</th>\n","      <td>@mr.masudrabbani467</td>\n","      <td>2024-08-02T10:03:09Z</td>\n","      <td>0</td>\n","      <td>Kapurush BNP akhon namje andolone  porghasa</td>\n","      <td>jUVi-lOoJjA</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>296</th>\n","      <td>@AbdulKarim-fb7kp</td>\n","      <td>2024-08-02T09:54:46Z</td>\n","      <td>0</td>\n","      <td>Very good üëç</td>\n","      <td>jUVi-lOoJjA</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>298</th>\n","      <td>@tarekrahman2021</td>\n","      <td>2024-08-02T09:53:21Z</td>\n","      <td>4</td>\n","      <td>Rumin Farhana apu ke Lal salam üòä</td>\n","      <td>jUVi-lOoJjA</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>299</th>\n","      <td>@SN-Media433</td>\n","      <td>2024-08-02T09:53:17Z</td>\n","      <td>0</td>\n","      <td>Awami League  o chaina....bnp o chaina...dui d...</td>\n","      <td>jUVi-lOoJjA</td>\n","      <td>True</td>\n","    </tr>\n","    <tr>\n","      <th>302</th>\n","      <td>@user-xb2vu5fg3n</td>\n","      <td>2024-08-02T09:50:03Z</td>\n","      <td>1</td>\n","      <td>Good job üëèüëçüëçüëçüëèüëèüëèüëèüëèüëçüëçüëè</td>\n","      <td>jUVi-lOoJjA</td>\n","      <td>True</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>129 rows √ó 6 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-d0cd7bef-1de0-4a3f-bde8-a043991648d0')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-d0cd7bef-1de0-4a3f-bde8-a043991648d0 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-d0cd7bef-1de0-4a3f-bde8-a043991648d0');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-aedb7def-2c8b-4734-bf3d-31ac46cd88c4\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-aedb7def-2c8b-4734-bf3d-31ac46cd88c4')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-aedb7def-2c8b-4734-bf3d-31ac46cd88c4 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","  <div id=\"id_dfa9643e-65e2-4893-8a10-47bd967ae02b\">\n","    <style>\n","      .colab-df-generate {\n","        background-color: #E8F0FE;\n","        border: none;\n","        border-radius: 50%;\n","        cursor: pointer;\n","        display: none;\n","        fill: #1967D2;\n","        height: 32px;\n","        padding: 0 0 0 0;\n","        width: 32px;\n","      }\n","\n","      .colab-df-generate:hover {\n","        background-color: #E2EBFA;\n","        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","        fill: #174EA6;\n","      }\n","\n","      [theme=dark] .colab-df-generate {\n","        background-color: #3B4455;\n","        fill: #D2E3FC;\n","      }\n","\n","      [theme=dark] .colab-df-generate:hover {\n","        background-color: #434B5C;\n","        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","        fill: #FFFFFF;\n","      }\n","    </style>\n","    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('concat_df')\"\n","            title=\"Generate code using this dataframe.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n","  </svg>\n","    </button>\n","    <script>\n","      (() => {\n","      const buttonEl =\n","        document.querySelector('#id_dfa9643e-65e2-4893-8a10-47bd967ae02b button.colab-df-generate');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      buttonEl.onclick = () => {\n","        google.colab.notebook.generateWithVariable('concat_df');\n","      }\n","      })();\n","    </script>\n","  </div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"concat_df","repr_error":"0"}},"metadata":{},"execution_count":12}]},{"cell_type":"code","source":["concat_df.to_excel('/content/drive/MyDrive/ban-th Youtube data/youtube_scraping_BNP.xlsx', index=False)"],"metadata":{"id":"oE8xDGhJ0b7Y"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[],"metadata":{"id":"_l74GkvcuwwS"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[],"metadata":{"id":"sPxr8TO0uxL8"},"execution_count":null,"outputs":[]}],"metadata":{"colab":{"provenance":[],"mount_file_id":"1tPrBly16DR8AfTnhaxx2YB6ppt5kRrIY","authorship_tag":"ABX9TyMAzT5VfKoI9vA0fDiROuia"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}